<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理员</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" type="text/css" href="../static/css/administrator.css">

    <!-- import Vue before Element -->
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <!-- import JavaScript -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="../static/js/jquery-1.12.4.js"></script>
    <script src="../static/js/administrator.js"></script>




</head>

<body>
<div class="header">
    <div class="header_top">
        <h1 id="title">
            软件售后服务系统
        </h1>
        <div id="search" class="v-center">
            <input type="text" id="search-bar" maxlength="40">
            <a href="#" id="btn-search">搜索</a>
        </div>
        <div id="userHead">

            <!--
        <img src="../img/avatar.jpg" alt="头像">
    -->
            <div class="el-icon-s-custom" id="head_icon"></div>
            <div id="userName"></div>
            <span id="logout">退出</span>


        </div>
    </div>

</div>
<div class="center">
    <div id="funcmenu">

        <el-col :span="24">

            <el-menu default-active="0" class="el-menu-vertical-demo" @select="handleSelect" @open="handleOpen"
                     @close="handleClose" background-color="#88cccc" text-color="#666" active-text-color="#ffd04b"
                     id="el_funcmenu" style="border: 0;">
                <el-menu-item v-bind:index="item.index" v-for="(item, index) in funcs">
                    <i class="el-icon-setting"></i>
                    <span slot="title">{{item.fncname}}</span>
                </el-menu-item>


            </el-menu>
        </el-col>

    </div>
    <div id="functions_area">
        <div class="function_area selected_area" id="service_processing">
            <div id="service_dialog">
                <el-dialog v-bind:title="solution" :visible.sync="dialogFormVisible">
                    <p>
                        <span> 软件售后服务编号:</span>
                        <span>{{serviceId}}</span>
                    </p>
                    <p>
                        <span>当前状态:</span>
                        <span>{{serviceState}}</span>
                    </p>
                    <p>
                        <span>申请人:</span>
                        <span>{{Applicant}}</span>
                    </p>
                    <p>
                        <span>申请原因:</span>
                        <span>{{Application_reason}}</span>
                    </p>
                    <p v-if="way1">请输入反馈的信息：</p>
                    <textarea v-model="feedbackinf" v-if="way1" name="" id="feedback" cols="110" rows="10"
                              placeholder="请输入："></textarea>

                    <p v-if="way2">请选择更换人员的系统名称：</p>

                    <select name="" id="" v-if="way2" v-model="change_name" placeholder="请选择">
                        <option value="" v-for="item in serverlist" :key="item.name" :label="item.name"
                                :value="item.name"></option>
                    </select>

                    <p v-if="way3">请选择服务即将改变为何种状态：</p>
                    <select name="" id="stateselect" v-if="way3">
                        <option value="state1">state1</option>
                        <option value="state2">state2</option>
                        <option value="state3">state3</option>
                    </select>

                    <div slot="footer" class="dialog-footer">
                        <el-button @click="dialogFormVisible = false">取 消</el-button>
                        <el-button type="primary" @click="commit">确 定</el-button>
                    </div>
                </el-dialog>
            </div>

            <div id="service_table_holder">
                <el-table :data="tableData" style="width: 100%">
                    <el-table-column label="软件售后服务编号" width="164">
                        <template slot-scope="scope">
                            <div slot="reference" class="name-wrapper">
                                <el-tag size="medium">{{ scope.row.serviceId }}</el-tag>
                            </div>

                        </template>
                    </el-table-column>
                    <el-table-column label="当前状态" width="164">
                        <template slot-scope="scope">
                            <span>异常</span>
                        </template>
                    </el-table-column>
                    <el-table-column label="申请人" width="164">
                        <template slot-scope="scope">

                            <div slot="reference" class="name-wrapper">
                                <el-tag size="medium">{{ scope.row.Applicants }}</el-tag>
                            </div>
                        </template>
                    </el-table-column>
                    <el-table-column label="申请原因" width="164">
                        <template slot-scope="scope">
                            <span style="overflow: hidden">{{ scope.row.Application_reason }}</span>
                        </template>
                    </el-table-column>
                    <el-table-column label="解决方式" width="164">
                        <template slot-scope="scope">
                            <select name="" width="180" v-model="scope.row.solution">
                                <option value="" selected:disabled style="display:none">请选择</option>

                                <option value="换人">换人</option>


                            </select>
                            <el-button size="mini"
                                       @click="solution( scope.row.serviceId,scope.row.serviceState, scope.row.Applicants, scope.row.Application_reason,scope.row.solution,scope.row.mesid)">
                                提交 </el-button>
                        </template>

                    </el-table-column>
                </el-table>
            </div>
            <div class="paging" id="service_page">
                <el-pagination background layout="prev, pager, next" v-bind:total="total"
                               v-bind:current-page="current_page" v-bind:page-size="page_size"
                               @current-change="handleCurrentChange" @prev-click="prev_click" @next-click="next_click">
                </el-pagination>
            </div>

        </div>
        <div class="function_area" id="access_setting">
            <div id="accessHead">
                <el-menu :default-active="activeIndex" class="el-menu-demo" mode="horizontal" @select="handleSelect">
                    <el-menu-item index="1">售后服务人员</el-menu-item>
                    <el-menu-item index="2">客户</el-menu-item>
                </el-menu>
            </div>
            <div id="access_dialog">
                <el-dialog v-bind:title="solution" :visible.sync="dialogFormVisible">

                    <p>
                        <span>用户账户:</span>
                        <span>{{userId}}</span>
                    </p>
                    <p>
                        <span>用户角色:</span>
                        <span>{{userRole}}</span>
                    </p>
                    <p>
                        <span>账号状态:</span>
                        <span>{{accountStatus}}</span>
                    </p>




                    <div slot="footer" class="dialog-footer">
                        <el-button @click="dialogFormVisible = false">取 消</el-button>
                        <el-button type="primary" @click="commit()">确 定</el-button>
                    </div>
                </el-dialog>
            </div>
            <div id="access_setting_holder">
                <el-table :data="tableData" style="width:100%">
                    <el-table-column label="用户账户" width="205">
                        <template slot-scope="scope">
                            <div slot="reference" class="name-wrapper">
                                <el-tag size="medium">{{ scope.row.userId }}</el-tag>
                            </div>
                        </template>
                    </el-table-column>
                    <el-table-column label="角色" width="205">
                        <template slot-scope="scope">


                            <div slot="reference" class="name-wrapper">
                                <el-tag size="medium">{{ scope.row.userRole }}</el-tag>
                            </div>

                        </template>
                    </el-table-column>
                    <el-table-column label="账号状态" width="205">
                        <template slot-scope="scope">
                            <span>{{ scope.row.accountStatus }}</span>
                        </template>
                    </el-table-column>
                    <el-table-column label="解决方式" width="205">
                        <template slot-scope="scope">
                            <select name="" width="164" v-model="scope.row.values" placeholder="请选择">
                                <option value="" selected:disabled style="display:none">请选择</option>
                                <option value="冻结" v-if="current === '售后服务人员'">冻结</option>
                                <option value="离职" v-if="current === '售后服务人员'">离职</option>
                                <option value="在职" v-if="current === '售后服务人员'">在职</option>
                                <option value="正常" v-if="current === '客户'">正常</option>
                                <option value="冻结" v-if="current === '客户'">冻结</option>
                                <option value="解封" v-if="current === '客户'">解封</option>

                            </select>
                            <el-button size="mini"
                                       @click="solution( scope.row.id,scope.row.userId ,scope.row.userRole, scope.row.accountStatus ,scope.row.values)">
                                提交</el-button>
                        </template>

                    </el-table-column>

                </el-table>
            </div>

            <div class="paging" id="access_page">
                <el-pagination background layout="prev, pager, next" v-bind:total="total"
                               v-bind:current-page="current_page" v-bind:page-size="page_size"
                               @current-change="handleCurrentChange" @prev-click="prev_click" @next-click="next_click">
                </el-pagination>
            </div>
        </div>
        <div class="function_area" id="faq">
            <div id="faqhead">
                <div id="modifyfaq" class="v-center selectedfaqfunction faqfunction">
                    修改&删除
                </div>
                <div id="addfaq" class="v-center faqfunction">
                    新增
                </div>
            </div>
            <div id="faqcenter">
                <div id="modifyfaqarea" class="faqarea faqshow">

                    <div id="modifylist">
                        <div class="modifyitem" v-for="item in items">


                            <div class="faqinfoarea">

                                <p class="faqtitle">{{item.faqtitle}}<span class="faqtype">{{item.faqType}}</span></p>
                                <textarea class="faqdetaile" name="" id="" cols="70" rows="6"
                                          v-model="item.faqdetails"></textarea>
                                <span class="faqdate">发布日期：{{item.faqdate}}</span>
                                <div class="faqbuttons">
                                    <button class="faqmodifybtn"
                                            @click="modify(item.id,item.faqdetails)">修改</button>
                                    <button class="faqdelbtn" @click="del(item.id)">删除</button>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="paging" id="faq_page">
                        <el-pagination background layout="prev, pager, next" v-bind:total="total"
                                       v-bind:current-page="current_page" v-bind:page-size="page_size"
                                       @current-change="handleCurrentChange" @prev-click="prev_click" @next-click="next_click">
                        </el-pagination>
                    </div>
                </div>
                <div id="addarea" class="faqarea">
                    <div   method="post" id="addform">

                        <div id="addauthor">
                            <span>目标软件：</span>
                            <select type="text" v-model="faqSoftware" id="target" class="addfaqinfinput">
                                <option v-bind:value="item.targetsoftware" v-for="item in items">
                                    {{item.targetsoftware}}</option>

                            </select>
                        </div>

                        <div id="addtitle">
                            <span>标题：</span>
                            <input type="text" v-model="faqName" id="titleipt" class="addfaqinfinput">
                        </div>
                        <div id="addtype">
                            <span>类型：</span>
                            <select  id="faqtype" v-model="faqType">
                                <option value="type1">type1</option>
                                <option value="type2">type2</option>
                                <option value="type3">type3</option>
                                <option value="type4">type4</option>
                            </select>
                        </div>
                        <div id="adddescription">
                            <span>问题描述：</span>
                            <textarea v-model="faqDescription" id="descriptiontext" cols="30" rows="10"
                                      class="addfaqinfinput"></textarea>
                        </div>
                        <div id="addsolution">
                            <span>解决方法：</span>
                            <textarea v-model="faqInfo" id="solutiontext" cols="30" rows="10"
                                      class="addfaqinfinput"></textarea>
                        </div>
                        <button id="submitbtn" @click="commit">提交</button>
                    </div>

                </div>
            </div>
        </div>
        <div class="function_area" id="aboutsoftware">
            <div id="aboutsoftwarehead">
                <div id="versioninf" class="v-center selectedversionfunction versionfunction">
                    版本信息
                </div>
                <div id="versioninfchange" class="v-center versionfunction">
                    版本信息修改
                </div>
                <div id="update" class="v-center versionfunction">
                    软件更新
                </div>
            </div>
            <div id="versioninfarea" class="versionarea selected_versionarea">版本信息</div>
            <div id="versioninfchangearea" class="versionarea">版本信息修改</div>
            <div id="updatearea" class="versionarea">
                <el-table :data="tableData" height="750" style="width: 100%">
                    <el-table-column prop="id" label="软件ID" width="180">
                    </el-table-column>
                    <el-table-column prop="softwareName" label="软件名" width="180">
                    </el-table-column>
                    <el-table-column prop="softwareInfo" label="软件描述">
                    </el-table-column>
                    <el-table-column prop="updateDate" label="更新日期">
                    </el-table-column>
                </el-table>
            </div>
        </div>
        <div class="function_area" id="addUser">

            <el-form label-width="140px">
                <el-form-item label="用户名称">
                    <el-input v-model="username" clearable></el-input>
                </el-form-item>
                <el-form-item label="用户密码">
                    <el-input v-model="password" show-password></el-input>
                </el-form-item>
                <el-form-item label="用户密码确认">
                    <el-input v-model="password_check" show-password></el-input>
                </el-form-item>
                <el-form-item label="用户类型">
                    <el-select v-model="usertype" placeholder="请选择" clearable>
                        <el-option v-for="item in usertypes" :key="item.type" :label="item.type" :value="item.type">
                        </el-option>
                    </el-select>
                </el-form-item>
                <el-button type="primary" @click="onSubmit" id="adduser_el-button_submit">立即添加</el-button>
                <el-button id="adduser_el-button_cancel" @click="cancel">取消</el-button>
                <span id="adduser_message">{{message}}</span>
            </el-form>



        </div>

    </div>
</div>
<div class="footer">
        <span id="versionInfo">
            <p>版本号v1.0</p>
            <p>版本说明：4地方是的是的归属感三个傻瓜Gh</p>
        </span>
    <span class="details">咨询电话:8888-8888</span>
    <span class="details">技术说明</span>
    <pspan class="details">帮助中心</pspan>
    <span class="details">关于我们</span>



</div>
</body>

</html>